<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç—Ä—ñ—á–∫–∞ –Ω–æ–≤–∏–Ω</title>
    <link rel="stylesheet" href="/static/newsfeed.css">
</head>
<body>
    <div class="container">
        
        <header class="header">
            <div class="header-content">
                <h1>üì∞ –°—Ç—Ä—ñ—á–∫–∞ –Ω–æ–≤–∏–Ω</h1>
                <nav class="nav">
                    <a href="/" class="nav-link">üè† –ì–æ–ª–æ–≤–Ω–∞</a>
                    <a href="/newsfeed" class="nav-link active">üì∞ –°—Ç—Ä—ñ—á–∫–∞</a>
                    <button id="createPostBtn" class="create-post-btn">‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç</button>
                    <a href="/logout" class="logout-btn">üö™–í–∏–π—Ç–∏</a>
                </nav>
            </div>
        </header>

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É (–¥–ª—è –≤—Å—ñ—Ö) -->
        <div id="postModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>üìù –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø–æ—Å—Ç</h2>
                <form id="postForm" class="post-form">
                    <div class="form-group">
                        <label for="postTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
                        <input type="text" id="postTitle" name="title" placeholder="–í–≤–µ–¥—ñ—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç—É..." required>
                    </div>
                    <div class="form-group">
                        <label for="postContent">–ó–º—ñ—Å—Ç:</label>
                        <textarea id="postContent" name="content" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –∑–º—ñ—Å—Ç –ø–æ—Å—Ç—É..." rows="6" required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">üì§ –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
                </form>
            </div>
        </div>

        <!-- –®–≤–∏–¥–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤ -->
        {% if current_user.role == 'admin' %}
        <section class="create-post-section">
            <div class="create-post-card">
                <h3>üëë –®–≤–∏–¥–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏–Ω–∏ (–ê–¥–º—ñ–Ω)</h3>
                <textarea id="quickPost" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –≤–∞–∂–ª–∏–≤—É –Ω–æ–≤–∏–Ω—É..." rows="3"></textarea>
                <button id="quickPostBtn" class="quick-post-btn">üöÄ –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É</button>
            </div>
        </section>
        {% endif %}

        <main class="main-content">
            <section class="posts-section">
                <h2>üì¢ –û—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏</h2>
                <div id="postsContainer" class="posts-container">
                    <div class="loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤...</div>
                </div>
            </section>

            <aside class="sidebar">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
                {% if current_user.role == 'admin' %}
                <div class="sidebar-card">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats">
                        <div class="stat-item">
                            <span class="stat-number" id="totalPosts">0</span>
                            <span class="stat-label">–≤—Å—å–æ–≥–æ –ø–æ—Å—Ç—ñ–≤</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalLikes">0</span>
                            <span class="stat-label">–≤—Å—å–æ–≥–æ –ª–∞–π–∫—ñ–≤</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3>üë• –û—Å—Ç–∞–Ω–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h3>
                    <div id="recentUsers" class="recent-users">
                        <!-- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±—É–¥—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏—Å—å —Ç—É—Ç -->
                    </div>
                </div>
                {% else %}
                <!-- –î–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–æ–∫–∞–∑—É—î–º–æ —ñ–Ω—à—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é -->
                <div class="sidebar-card">
                    <h3>‚ÑπÔ∏è –í–∞—à –ø—Ä–æ—Ñ—ñ–ª—å</h3>
                    <div class="user-info-sidebar">
                        <div class="user-welcome">
                            <p>–í—ñ—Ç–∞—î–º–æ, <strong>{{ current_user.fullName }}</strong>! üéâ</p>
                            <p>–í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø–æ—Å—Ç–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ —ñ–Ω—à–∏–º–∏.</p>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3>üí° –ü–æ—Ä–∞–¥–∏</h3>
                    <div class="help-info">
                        <p>üìù –ü–∏—à—ñ—Ç—å —Ü—ñ–∫–∞–≤—ñ –ø–æ—Å—Ç–∏</p>
                        <p>‚ù§Ô∏è –í–ø–æ–¥–æ–±–∞–π—Ç–µ, —â–æ —Å–ø–æ–¥–æ–±–∞–ª–æ—Å—è</p>
                        <p>üë• –ó–Ω–∞—Ö–æ–¥—å—Ç–µ –Ω–æ–≤–∏—Ö –¥—Ä—É–∑—ñ–≤</p>
                    </div>
                </div>
                {% endif %}
            </aside>
        </main>
    </div>

    <script src="/static/newsfeed.js"></script>
</body>
</html>
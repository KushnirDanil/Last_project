<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</title>
    <link rel="stylesheet" href="/static/home.css">
</head>
<body>
    <div class="container">
        
        <header class="header">
            <div class="header-content">
                <h1>–í—ñ—Ç–∞—î–º–æ –Ω–∞ –Ω–∞—à–æ–º—É —Å–∞–π—Ç—ñ! üéâ</h1>
                <nav class="nav">
                    <a href="/home" class="nav-link active">üè† –ì–æ–ª–æ–≤–Ω–∞</a>
                    <a href="/newsfeed" class="nav-link">üì∞ –°—Ç—Ä—ñ—á–∫–∞</a>
                    <a href="/logout" class="logout-btn">üö™ –í–∏–π—Ç–∏</a>
                </nav>
            </div>
        </header>

        <main class="main-content">
            <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
            <section class="welcome-section">
                <div class="welcome-card">
                    <h2>üëã –í—ñ—Ç–∞—î–º–æ, {{ current_user.fullName }}!</h2>
                    <div class="user-info">
                        <p><strong>Email:</strong> {{ current_user.email }}</p>
                        <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ current_user.phone }}</p>
                        <p><strong>–†–æ–ª—å:</strong> 
                            {% if current_user.role == 'admin' %}
                                <span class="admin-role">üëë –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                            {% else %}
                                <span class="user-role">üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</span>
                            {% endif %}
                        </p>
                        <p><strong>–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:</strong> {{ current_user.registration_date.strftime('%d.%m.%Y') }}</p>
                    </div>
                </div>
            </section>

            <!-- –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
            {% if current_user.role == 'admin' %}
            <section class="users-section">
                <h2>üë• –£—á–∞—Å–Ω–∏–∫–∏ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ (–ê–¥–º—ñ–Ω)</h2>
                <div class="users-container">
                    {% for user in users %}
                        <div class="user-card">
                            <div class="user-avatar">
                                {{ user.fullName[0] }}
                            </div>
                            <div class="user-details">
                                <div class="user-name">üë§ {{ user.fullName }}</div>
                                <div class="user-date">üìÖ {{ user.registration_date.strftime('%d.%m.%Y %H:%M') }}</div>
                                <div class="user-email">üìß {{ user.email }}</div>
                                <div class="user-phone">üìû {{ user.phone }}</div>
                                {% if user.role == 'admin' %}
                                    <div class="user-role admin">üëë –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</div>
                                {% else %}
                                    <div class="user-role user">üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</div>
                                {% endif %}
                            </div>
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <p>–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</p>
                            <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä—à–∏–º!</p>
                        </div>
                    {% endfor %}
                </div>
            </section>

            <section class="stats-section">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-number">{{ users|length }}</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">{{ today_users }}</div>
                        <div class="stat-label">–°—å–æ–≥–æ–¥–Ω—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ</div>
                    </div>
                </div>
            </section>
            {% else %}
            <!-- –î–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ -->
            <section class="features-section">
                <h2>üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üìù</div>
                        <h3>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤</h3>
                        <p>–î—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ –¥—É–º–∫–∞–º–∏ —Ç–∞ —ñ–¥–µ—è–º–∏ –∑—ñ —Å–ø—ñ–ª—å–Ω–æ—Ç–æ—é</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚ù§Ô∏è</div>
                        <h3>–í–∑–∞—î–º–æ–¥—ñ—è</h3>
                        <p>–í–ø–æ–¥–æ–±–∞–π—Ç–µ –ø–æ—Å—Ç–∏, —è–∫—ñ –≤–∞–º —Å–ø–æ–¥–æ–±–∞–ª–∏—Å—è</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üë•</div>
                        <h3>–°–ø—ñ–ª—å–Ω–æ—Ç–∞</h3>
                        <p>–°–ø—ñ–ª–∫—É–π—Ç–µ—Å—è –∑ —ñ–Ω—à–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</p>
                    </div>
                </div>
            </section>
            {% endif %}
            
            <!-- –ù–û–í–ê –°–ï–ö–¶–Ü–Ø: –ü–æ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
            <section class="posts-section">
                <div class="posts-grid">
                    <!-- –ú–æ—ó –ø–æ—Å—Ç–∏ -->
                    <div class="posts-column">
                        <h3>üìù –ú–æ—ó –ø–æ—Å—Ç–∏</h3>
                        <div class="posts-container">
                            {% if user_posts %}
                                {% for post in user_posts %}
                                <div class="post-card">
                                    <div class="post-header">
                                        <div class="post-title">{{ post.title }}</div>
                                        <div class="post-date">{{ post.date_posted.strftime('%d.%m.%Y %H:%M') }}</div>
                                    </div>
                                    <div class="post-content">{{ post.content }}</div>
                                    <div class="post-stats">
                                        <span class="likes-count">‚ù§Ô∏è {{ post.likes }} –ª–∞–π–∫—ñ–≤</span>
                                    </div>
                                </div>
                                {% endfor %}
                            {% else %}
                                <div class="empty-posts">
                                    <p>üì≠ –£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –ø–æ—Å—Ç—ñ–≤</p>
                                    <p>–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–µ—Ä—à–∏–π –ø–æ—Å—Ç —É —Å—Ç—Ä—ñ—á—Ü—ñ –Ω–æ–≤–∏–Ω!</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- –í–ø–æ–¥–æ–±–∞–Ω—ñ –ø–æ—Å—Ç–∏ -->
                    <div class="posts-column">
                        <h3>‚ù§Ô∏è –í–ø–æ–¥–æ–±–∞–Ω—ñ –ø–æ—Å—Ç–∏</h3>
                        <div class="posts-container">
                            {% if liked_posts %}
                                {% for post in liked_posts %}
                                <div class="post-card">
                                    <div class="post-header">
                                        <div class="post-title">{{ post.title }}</div>
                        <div class="post-date">{{ post.date_posted.strftime('%d.%m.%Y %H:%M') }}</div>
                                    </div>
                                    <div class="post-content">{{ post.content }}</div>
                                    <div class="post-author">
                                        üë§ {{ post.author.fullName }}
                                        {% if post.author.role == 'admin' %}
                                            <span class="admin-badge">üëë</span>
                                        {% endif %}
                                    </div>
                                    <div class="post-stats">
                                        <span class="likes-count">‚ù§Ô∏è {{ post.likes }} –ª–∞–π–∫—ñ–≤</span>
                                    </div>
                                </div>
                                {% endfor %}
                            {% else %}
                                <div class="empty-posts">
                                    <p>üíî –í–∏ —â–µ –Ω–µ –ª–∞–π–∫–∞–ª–∏ –ø–æ—Å—Ç–∏</p>
                                    <p>–ó–Ω–∞–π–¥—ñ—Ç—å —Ü—ñ–∫–∞–≤—ñ –ø–æ—Å—Ç–∏ —É —Å—Ç—Ä—ñ—á—Ü—ñ –Ω–æ–≤–∏–Ω!</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </section>
            
        </main>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="message success">
                    {{ messages[0] }}z
                </div>
            {% endif %}
        {% endwith %}
    </div>

    <script src="/static/script.js"></script>
</body>
</html>